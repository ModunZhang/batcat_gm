{% extends '../../layouts/manager.html' %}
{% block content %}
<ol class="breadcrumb">
    <li><a href="/manager/games/list">Games</a></li>
    <li class="active">{{game.name}}</li>
</ol>
<div class="table-responsive">
    <table class="table table-striped table-bordered table-hover">
        <thead>
        <tr>
            <th>Server</th>
            <th>TotalCount</th>
            <th>ActiveCount</th>
            <th>OnlineCount</th>
            <th>CpuUsage</th>
            <th>MemoryUsage</th>
            <th>HeapUsage</th>
            <th>UpTime</th>
        </tr>
        </thead>
        <tbody>
        {% for server in servers%}
        <tr>
            <td>{{ server.name }}</td>
            {% if server.code !== 200 %}
            <td colspan="7">{{server.data}}</td>
            {% else %}
            <td>{{ server.data.gameInfo.totalCount }}</td>
            <td>{{ server.data.gameInfo.activeCount }}</td>
            <td>{{ server.data.gameInfo.onlineCount }}</td>
            <td>{{ server.data.sysInfo.cpu }}%</td>
            <td>{{ server.data.sysInfo.rss }}M | {{(server.data.sysInfo.rss / server.data.sysInfo.memoryTotal * 100).toFixed(2)}}%</td>
            <td>{{ server.data.sysInfo.heapUsed }}M</td>
            <td>{{ server.data.sysInfo.uptime }}m</td>
            {% endif %}
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}